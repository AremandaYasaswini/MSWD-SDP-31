
// index.js

import Express from "express";
import cors from "cors";
import mongoose from "mongoose";
import { loginUser } from "./authlogin.js";

const app = Express();

app.use(cors());
app.use(Express.json());

mongoose.connect("mongodb+srv://mulpurucharishma:admin123@cluster0.zfti8ae.mongodb.net/sdp");

// Signup endpoint
app.post("/signup", async (req, res) => {
    // Your signup logic here
});

// Login endpoint
app.post("/login", async (req, res) => {
    const { email, password } = req.body;
    const loginResult = await loginUser(email, password);
    if (loginResult.success) {
        res.json({ message: loginResult.message, user: loginResult.user });
    } else {
        res.status(401).json({ message: loginResult.message });
    }
});

app.listen(8080, () => {
    console.log("Your server is running at http://localhost:8080");
});
